{"version":3,"sources":["webpack:///E:/workspace/demo/vue/uni-app/hello-tmp/pages/application/ocrApi/ocrApi.vue","webpack:///E:/workspace/demo/vue/uni-app/hello-tmp/pages/application/ocrApi/ocrApi.vue?525c","webpack:///E:/workspace/demo/vue/uni-app/hello-tmp/pages/application/ocrApi/ocrApi.vue?04e2","webpack:///E:/workspace/demo/vue/uni-app/hello-tmp/pages/application/ocrApi/ocrApi.vue?8499","webpack:///E:/workspace/demo/vue/uni-app/hello-tmp/pages/application/ocrApi/ocrApi.vue?f332","webpack:///E:/workspace/demo/vue/uni-app/hello-tmp/pages/application/ocrApi/ocrApi.vue?6edb","webpack:///E:/workspace/demo/vue/uni-app/hello-tmp/pages/application/ocrApi/ocrApi.vue?6f67"],"names":["components","uniIcon","data","types","value","name","checked","current","imgList","words","onLoad","console","log","computed","showAdd","length","methods","radioChange","evt","i","target","chooseImage","uni","count","success","chooseImageRes","tempFilePaths","push","getFileSystemManager","readFile","filePath","encoding","res","base64","dataSet","image","id_card_side","then","resp","words_result","catch","reason","showToast","title","icon","duration","fail","err","perviewImg","index","urls","previewImage","handleRemove","il"],"mappings":"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","file":"pages/application/ocrApi/ocrApi.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniIcon from '@/components/uni-icon/uni-icon.vue'\nimport {\n\tgetAccexxToken,\n\tgetIdCard,\n\tgetOcrInfo\n} from '@/services/bdAI'\n\nexport default {\n\tcomponents: {\n\t\tuniIcon\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttypes: [\n\t\t\t\t{\n\t\t\t\t\tvalue: 'idcard',\n\t\t\t\t\tname: '身份证识别',\n\t\t\t\t\tchecked: 'true'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: 'license_plate',\n\t\t\t\t\tname: '车牌识别'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: 'handwriting',\n\t\t\t\t\tname: '手写字识别'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: 'accurate_basic',\n\t\t\t\t\tname: '通用文字识别'\n\t\t\t\t},\n\t\t\t\t// {\n\t\t\t\t// \tvalue: 'FRA',\n\t\t\t\t// \tname: '法国'\n\t\t\t\t// },\n\t\t\t],\n\t\t\tcurrent: 0,\n\t\t\timgList: [],\n\t\t\t// imgBase64List: [],\n\t\t\twords: {},\n\t\t};\n\t},\n\tonLoad() {\n\t\t// console.log(getAccexxToken());\n\t\tconsole.log('页面加载')\n\t},\n\tcomputed: {\n\t\tshowAdd() {\n\t\t\t// return false;\n\t\t\t// this.words = {};\n\t\t\treturn this.imgList.length > 0\n\t\t},\n\t\t// showInfo() {\n\t\t\t// return this.imgList.length > 0 && this.words\n\t\t// }\n\t},\n\tmethods: {\n\t\tradioChange: function(evt) {\n\t\t\tthis.imgList = []\n\t\t\tfor (let i = 0; i < this.types.length; i++) {\n\t\t\t\tif (this.types[i].value === evt.target.value) {\n\t\t\t\t\tthis.current = i;\n\t\t\t\t\tconsole.log(this.current);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tchooseImage() {\n\t\t\tconsole.log('chooseImage');\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsuccess: (chooseImageRes) => {\n\t\t\t\t\tfor (var i = 0; i < chooseImageRes.tempFilePaths.length; i++) {\n\t\t\t\t\t\tthis.imgList.push(chooseImageRes.tempFilePaths[i]);\n\t\t\t\t\t\tuni.getFileSystemManager().readFile({\n\t\t\t\t\t\t\tfilePath: chooseImageRes.tempFilePaths[i], //选择图片返回的相对路径\n\t\t\t\t\t\t\tencoding: 'base64', //编码格式\n\t\t\t\t\t\t\tsuccess: res => { //成功的回调\n\t\t\t\t\t\t\t\tlet base64 = 'data:image/jpeg;base64,' + res.data //不加上这串字符，在页面无法显示的哦\n\t\t\t\t\t\t\t\t// this.imgBase64List.push(base64);\n\t\t\t\t\t\t\t\t// console.log(this.imgBase64List);\n\t\t\t\t\t\t\t\tthis.words = {}\n\t\t\t\t\t\t\t\tlet dataSet = {\n\t\t\t\t\t\t\t\t\timage: res.data,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconsole.log(this.types[this.current].value);\n\t\t\t\t\t\t\t\tswitch (this.types[this.current].value){\n\t\t\t\t\t\t\t\t\tcase 'idcard':\n\t\t\t\t\t\t\t\t\t\tdataSet.id_card_side = 'front'\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tgetOcrInfo(dataSet, this.types[this.current].value).then(resp => {\n\t\t\t\t\t\t\t\t\tthis.words = resp.data.words_result\n\t\t\t\t\t\t\t\t\t// console.log(this.words['姓名'].words);\n\t\t\t\t\t\t\t\t}).catch(function(reason) {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '文字识别失败',\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '未选择图片',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t});\n\t\t\t\t\t// console.log(err);\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tperviewImg(index) {\n\t\t\tconsole.log('previewImg');\n\t\t\tlet urls = [];\n\t\t\tif (index != -1) {\n\t\t\t\turls[0] = this.imgList[index];\n\t\t\t} else {\n\t\t\t\turls = this.imgList;\n\t\t\t}\n\t\t\tuni.previewImage({\n\t\t\t\turls: urls\n\t\t\t});\n\t\t},\n\t\thandleRemove(index) {\n\t\t\tconsole.log('removeImage');\n\t\t\tlet il = [];\n\t\t\t\t// let ibl = [];\n\t\t\tfor (var i = 0; i < this.imgList.length; i++) {\n\t\t\t\tif (i != index) {\n\t\t\t\t\til.push(this.imgList[i]);\n\t\t\t\t\t// ibl.push(this.imgBase64List[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.imgList = il;\n\t\t\t// this.imgBase64List = ibl;\n\t\t\t// console.log(il, ibl);\n\t\t}\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./ocrApi.vue?vue&type=template&id=2bd3b8c8&\"\nimport script from \"./ocrApi.vue?vue&type=script&lang=js&\"\nexport * from \"./ocrApi.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ocrApi.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2bd3b8c8', component.options)\n    } else {\n      api.reload('2bd3b8c8', component.options)\n    }\n    module.hot.accept(\"./ocrApi.vue?vue&type=template&id=2bd3b8c8&\", function () {\n      api.rerender('2bd3b8c8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/workspace/demo/vue/uni-app/hello-tmp/pages/application/ocrApi/ocrApi.vue\"\nexport default component.exports","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ocrApi.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ocrApi.vue?vue&type=script&lang=js&\"","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ocrApi.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ocrApi.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ocrApi.vue?vue&type=template&id=2bd3b8c8&\""],"sourceRoot":""}